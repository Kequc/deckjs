(function(){var t,i=function(t,i){return function(){return t.apply(i,arguments)}};t=function(){function t(t){var s,n,o,u;this.opt=null!=t?t:{},this.inlay=i(this.inlay,this),this.draw=i(this.draw,this),this.count=i(this.count,this),this.shuffle=i(this.shuffle,this),null==(s=this.opt).extend&&(s.extend=[]),null==(n=this.opt).suits&&(n.suits=["spades","hearts","diamonds","clubs"]),null==(o=this.opt).ranks&&(o.ranks=["ace","king","queen","jack","10","9","8","7","6","5","4","3","2"]),null==(u=this.opt).multiply&&(u.multiply=1),this.opt.multiply<1&&(this.opt.multiply=1),this.shuffle()}return t.prototype.shuffle=function(){var t,i,s,n,o,u,l,r,h,e,a,p,c,f,d;for(this.cards=[],i=s=1,a=this.opt.multiply;a>=1?a>=s:s>=a;i=a>=1?++s:--s){for(p=this.opt.suits,n=0,u=p.length;u>n;n++)for(d=p[n],c=this.opt.ranks,o=0,l=c.length;l>o;o++)e=c[o],this.inlay({suit:d,rank:e});for(f=this.opt.extend,h=0,r=f.length;r>h;h++)t=f[h],t.limit&&i>t.limit||this.inlay(t)}return!0},t.prototype.count=function(){return this.cards.length},t.prototype.draw=function(){var t;return t=this.count(),t>0?this.cards.splice(Math.floor(Math.random()*t),1)[0]||null:null},t.prototype.inlay=function(t){return t&&t.suit&&t.rank?(t={suit:t.suit,rank:t.rank},this.cards.push(t),t):!1},t}(),"object"==typeof module&&"object"==typeof module.exports?module.exports=t:window.Deck=t}).call(this);