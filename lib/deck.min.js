(function(){var t,s=function(t,s){return function(){return t.apply(s,arguments)}};t=function(){function t(t){var n,i;this.opt=null!=t?t:{},this._random=s(this._random,this),this.draw=s(this.draw,this),this.pick=s(this.pick,this),this.shuffle=s(this.shuffle,this),this.spent=s(this.spent,this),this.cards=s(this.cards,this),this.last=s(this.last,this),this.count=s(this.count,this),null==(n=this.opt).extend&&(n.extend=[]),null==(i=this.opt).count&&(i.count=1),this.opt.count<1&&(this.opt.count=1),this.shuffle()}return t.prototype.SUITS=["spades","hearts","diamonds","clubs"],t.prototype.RANKS=["ace","king","queen","jack","10","9","8","7","6","5","4","3","2"],t.prototype.count=function(){return this._cards.length},t.prototype.last=function(){return this._spent[this._spent.length-1]||null},t.prototype.cards=function(){return this._cards},t.prototype.spent=function(){return this._spent},t.prototype.shuffle=function(){var t,s,n,i,o,r,h,e,u,p,c,a,l,d,f;for(this._cards=[],this._spent=[],s=n=1,c=this.opt.count;c>=1?c>=n:n>=c;s=c>=1?++n:--n){for(a=this.SUITS,i=0,r=a.length;r>i;i++)for(f=a[i],l=this.RANKS,o=0,h=l.length;h>o;o++)p=l[o],this._cards.push({suit:f,rank:p});for(d=this.opt.extend,u=0,e=d.length;e>u;u++)t=d[u],t.limit&&s>t.limit||this._cards.push({suit:t.suit,rank:t.rank})}return!0},t.prototype.pick=function(){var t;return t=this._random(),this._cards[t]||null},t.prototype.draw=function(){var t,s;return s=this._random(),t=null,s>-1&&(t=this._cards.splice(s,1)[0]||null),t&&this._spent.push(t),t},t.prototype._random=function(){var t;return t=this.count(),t>0?Math.floor(Math.random()*t):-1},t}(),"object"==typeof module&&"object"==typeof module.exports?module.exports=t:window.Deck=t}).call(this);